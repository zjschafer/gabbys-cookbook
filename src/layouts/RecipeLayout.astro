---
import Navigation from '../components/Navigation.astro';  
import Footer from '../components/Footer.astro';
import Meta from '../components/Meta.astro';
import RecipeJSONLD from '../components/RecipeJSONLD.astro';

// USE ONLY FOR MD LAYOUTS
const { frontmatter } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <Meta title={frontmatter.title} description={frontmatter.description} ogType='article' />
    <RecipeJSONLD
      name={frontmatter.title}
      description={frontmatter.description}
      image={frontmatter.image}
      author={frontmatter.author}
      datePublished={frontmatter.datePublished}
      prepTime={frontmatter.prepTime}
      cookTime={frontmatter.cookTime}
      totalTime={frontmatter.totalTime}
      keywords={frontmatter.keywords}
      recipeYield={frontmatter.servings}
      recipeCategory={frontmatter.category}
      recipeCuisine={frontmatter.cuisine}
      recipeIngredient={frontmatter.ingredients}
      recipeInstructions={frontmatter.instructions}
    />
  </head>
  <body>
    <header>
        <Navigation />
    </header>
    <main>
      <section id="recipe-introduction">
        <div class="wrapper">
          <div>
            <img
              class="recipe-image"
              src={frontmatter.image.url}
              alt={frontmatter.image.alt}
            />
          </div>
          <div>
            <h1>
              {frontmatter.title}
            </h1>
            <p>
              {frontmatter.description}
            </p>
            <div>
              <span class="prep-time"
                >Prep Time: {frontmatter.prepTime}</span
              >
              <span class="cook-time">Cook/Bake Time: {frontmatter.cookTime}</span>
              <span class="total-time">Total Time: {frontmatter.totalTime}</span>
              <span class="servings">Servings: {frontmatter.recipeYield} </span>
            </div>
          </div>
        </div>
      </section>
      <section id="recipe-details">
        <div class="wrapper">
          <div>
            <h2>Ingredients</h2>
            <ul class="ingredients-list">
              {frontmatter.ingredients.map((ingredient: string) => (
                <li><label><input type="checkbox" />{ingredient}</label></li>
              ))}
            </ul>
          </div>
          <div>
            <h2>Instructions</h2>
            <ol class="recipe-instructions">
                {frontmatter.instructions.map((instruction: string, index: number) => (
                  <li id={`step-${index + 1}`}>{instruction}</li>
                ))  }
            </ol>
          </div>
        </div>
      </section>
    </main>
    <Footer />
  </body>